define(["petitspois","vue","loadin","gf"],function(t,e,n,i){e.config.delimiters=["(%","%)"],new e({el:"#notice",data:{notices:[]},ready:function(){t("#triggle-all").trigger("click")},methods:{noticedata:function(e,i){var a=this;t("#notice-content").children().each(function(){t(this).removeClass("active")}),t(i.currentTarget).addClass("active"),n.show("load"),t.ajax({url:"/notification",type:"POST",data:{type:e}}).then(function(t){t=JSON.parse(t),a.notices=t.notices,n.hide()},function(){})},already:function(e){var n=e.currentTarget,i=n.parentNode.getAttribute("notice_id")||-1,a=n.getAttribute("pp-href");t.ajax({url:"/already",type:"POST",data:{nid:i}}).then(function(){location.href=decodeURIComponent(a)},function(){location.href=decodeURIComponent(a)})},flagAll:function(){n.show("load"),t.ajax({url:"/flagall",type:"POST"}).then(function(e){e=JSON.parse(e),n.hide(),e.status?(i("success",e.msg),t("#triggle-all").trigger("click")):i("error",e.msg)},function(){})}}})});