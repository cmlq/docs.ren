typeof function(){var t=[],e=(t.slice,function(t,n){return new e.prototype.initialize(t,n)});e.prototype={constructor:e,display:!1,ancestor:{},each:function(t,e){var n,i=0;if("function"==typeof t)for(var e=t,s=this.length;s>i&&(n=e.apply(this[i],[i,this[i]]),n!==!1);i++);else for(var s=t.length;s>i&&(n=e.apply(t[i],[i,t[i]]),n!==!1);i++);},on:function(t,n,i){i=i||!1;var s;return e.prototype.each(this,function(){this.addEventListener(t,function(t){s=n.call(this,t),s||(t.stopPropagation(),t.stopImmediatePropagation())},i)}),this},trigger:function(t){var e;return e=document.createEvent("HTMLEvents"),e.initEvent(t,!0,!0),this[0].dispatchEvent(e),this},hasClass:function(t,e){var n=!e&&this[0].className.split(" ")||e.className;return!!~n.indexOf(t)},addClass:function(t){return this.each(function(){t&&(this.className=this.className+" "+t)}),this},removeClass:function(t){return this.each(function(){var n=this.className.split(" ")||[],i=t.split(" ")||[];e.prototype.each(i,function(t,i){e.prototype.each(n,function(t,e){i==e&&n.splice(t,1)})}),this.className=n.join(" ")}),this},text:function(t){return this[0].innerHTML=t||"",this},css:function(t){return this.each(this,function(e,n){n.style.cssText=t}),this},append:function(t){return this[0].appendChild("string"==typeof t?document.createTextNode(t):t),this},eq:function(t){return this[0]=this[t],this.length=1,this},children:function(){var t,n=this;return this.display||e.mixIn(this.ancestor,this),this.each(this,function(i,s){return t=s.children.length,n.length==i?!1:void e.prototype.each(s.children,function(t,e){n[t]=e})}),!this.display&&(this.display=!0),this.length=t,this},parent:function(t){var e=this[0],n=this[0]=e.parentNode;return t&&n?n.className&&~n.className.indexOf(t)?(this[0]=n,this.length=1,this):"BODY"==n.nodeName?(this[0]=n,this.length=1,this):this.parent(t):(this[0]=n,this.length=1,this)},siblings:function(){return this[0]=this[0].nextElementSibling,this.length=1,this},end:function(){return e.mixIn(this,this.ancestor),this},load:function(t,n){var i=this;e.ajax({url:t,dataType:"html"}).then(function(t){i[0].innerHTML=t,n()},function(){})},attr:function(t){return this[0].getAttribute(t)},remove:function(){var t=this[0].parentNode;t&&t.removeChild(this[0])}};var n=e.prototype.initialize=function(t,e){if("string"==typeof t){var n=document.querySelectorAll(t),i=n.length;if(i){for(var s,r=-1;s=n[++r];)this[r]=s;this.length=i}}else(1==t.nodeType||9==t.nodeType)&&(this[0]=t,this.length=1);return this};try{e.promise=Promise}catch(i){typeof function(){var t=function(t){var e=this,n=function(t){e.resolve(t)},i=function(t){e.reject(t)};e.status="pending",e.resolveFn=null,e.rejectFn=null,"function"==typeof t&&t(n,i)};t.prototype.resolve=function(t){"pending"===this.status&&(this.status="fulfilled",this.resolveFn&&this.resolveFn(t))},t.prototype.reject=function(t){"pending"===this.status&&(this.status="rejected",this.rejectFn&&this.rejectFn(t))},t.prototype.then=function(e,n){var i=new t;return this.resolveFn=function(n){var s=e?e(n):n;s instanceof t?s.then(function(t){i.resolve(t)}):i.resolve(s)},this.rejectFn=function(t){var e=n?n(t):t;i.reject(e)},i},e.promise=t}()}e.mixIn=function(t){for(var e,n=1,i=arguments;e=i[n++];)if(e!==t)for(var s in e)t[s]=e[s];return t},e.trim=function(t){return t.replace(/^\s+|\s+$/g,"")};var s={url:"",type:"GET",dataType:"text",async:!0,cache:!0,data:null,contentType:"application/x-www-form-urlencoded",accepts:{text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"}};return e.isEmail=function(t){return/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(t)},e.ajax=function(t){var n={},i=new XMLHttpRequest,r=function(t,n){var i={};return e.mixIn(i,t,n),i}(s,t),a=function(t){var e=[];for(var n in t)e.push(encodeURIComponent(n)+"="+encodeURIComponent(t[n]));return e.join("&")},o=function(t,e){return function(){if(i.status>=200&&i.status<300||304===i.status){var n="xml"==r.dataType?i.responseXML:i.responseText;"json"==r.dataType&&(n=JSON.parse(n)),t(n,i.status)}else e(r,i,i.status)}};return r.cache||(r.url+=(~r.url.indexOf("?")?"&":"?")+"_="+ +new Date),r.data&&("GET"==r.type?(r.url+=(~r.url.indexOf("?")?"&":"?")+a(r.data),r.data=null):r.data=r.contentType?a(r.data):r.data),i.open(r.type,r.url,r.async),r.contentType&&i.setRequestHeader("Content-type",r.contentType),r.contentType&&r.dataType&&r.accepts[r.dataType]&&i.setRequestHeader("Accept",r.accepts[r.dataType]),n=new Promise(function(t,e){r.async?(i.onload=o.apply(i,arguments),i.send(r.data)):(i.send(r.data),o.apply(i,arguments)())})},n.prototype=e.prototype,"function"==typeof define&&define.amd&&define("petitspois",[],function(){return e}),e}.call(this);