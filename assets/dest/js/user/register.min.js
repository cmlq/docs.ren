define(["petitspois","vue","vueValidator","loadin","gf"],function(t,e,i,a,n){e.use(i),e.config.delimiters=["(%","%)"];new e({validator:{validates:{email:function(t){return/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(t)}}},data:{user:{avatar:"",name:"",email:"",pwd:"",pwd_re:""}},methods:{submit:function(e){var i=this.$data.user;return e.preventDefault(),i.pwd!=i.pwd_re?void n("error","两次密码输入不一致！"):(a.show(),void t.ajax({type:"POST",dataType:"json",url:"/signup",data:i}).then(function(t){return a.hide(),t.status?(n("success","注册成功！"),void setTimeout(function(){location.replace("/")},1200)):void n("error",t.msg)},function(){a.hide(),n("error","注册失败，请重试！")}))},oauth:function(){t.ajax({type:"GET",url:"/oauth/github/login"}).then(function(t){self.location.href=t},function(){})}}}).$mount("#registerForm")});