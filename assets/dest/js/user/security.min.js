define(["petitspois","vue","vueValidator","gf"],function(e,t,i,r){t.use(i),new t({el:"#security-valid",data:{pwds:{resetemail:"",old:"",now:"",repeat:""}},methods:{submit:function(t,i){t.preventDefault();var o=this.$data.pwds;return o.resetemail||o.now!==o.old?o.now!==o.repeat?void r("error","两次密码输入不一致"):void e.ajax({url:"/securityPwds",type:"POST",data:o}).then(function(e){return e=JSON.parse(e),e.status?(r("success",e.msg),void setTimeout(function(){location.href="/signin"},2e3)):void r("error",e.msg)},function(){}):void r("error","新密码与旧密码相同")}}})});